{"ast":null,"code":"var _jsxFileName = \"/Users/trent/Sites/2021/landlines_map/src/components/Markers.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport './Markers.css';\nimport ProjectInfoComponent from './ProjectInfoComponent';\nimport projects from '../data/landlines.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Markers = ({\n  map\n}) => {\n  _s();\n\n  const [open, setOpen] = useState(false); // const [state, setstate] = useState({\n  //     title: '', \n  //     artist: '', \n  //     description: '', \n  //     images: '', \n  //     id: '', \n  //     alt: ''\n  // })\n\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n\n  function addMarkers() {\n    projects.features.forEach(function (marker, index) {\n      const el = document.createElement('div');\n      el.id = \"marker-\" + marker.properties.id;\n      el.className = 'marker' + index;\n      el.innerHTML = `<div class=\"marker\"><h4><span>` + marker.properties.alt + `</span></h4></div>`;\n      new mapboxgl.Marker(el).setLngLat(marker.geometry.coordinates).addTo(map);\n      el.addEventListener('click', function (e) {\n        flyToProject(marker);\n        setOpen(true);\n      });\n    });\n  }\n\n  const mapPadding = window.innerHeight * 0.38; // Use Mapbox GL JS's `flyTo` to move the camera smoothly\n  // a given center point.\n\n  function flyToProject(currentFeature) {\n    map.flyTo({\n      center: [currentFeature.geometry.coordinates[0], currentFeature.geometry.coordinates[1]],\n      zoom: 12,\n      speed: 1,\n      padding: {\n        bottom: mapPadding\n      } //Push center to the left 500px,\n\n    });\n    setstate(currentFeature.properties); // Open Sidebar\n    // const sidebar = document.querySelector('#sidebar')\n    // sidebar.classList.add(\"open\");\n    // const header = document.querySelector('.header')\n    // header.classList.add(\"slide\");\n    // header.classList.add(\"visible\")\n    // const headerStart = document.querySelector('.header-start')\n    // headerStart.classList.add(\"hidden\");\n  }\n\n  if (map) {\n    map.on('load', () => {\n      addMarkers();\n    });\n  }\n\n  if (open === false) return null;else return /*#__PURE__*/_jsxDEV(ProjectInfoComponent, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 21\n  }, this);\n};\n\n_s(Markers, \"xG1TONbKtDWtdOTrXaTAsNhPg/Q=\");\n\n_c = Markers;\nexport default Markers;\n\nvar _c;\n\n$RefreshReg$(_c, \"Markers\");","map":{"version":3,"sources":["/Users/trent/Sites/2021/landlines_map/src/components/Markers.js"],"names":["React","useState","mapboxgl","ProjectInfoComponent","projects","Markers","map","open","setOpen","handleOpen","addMarkers","features","forEach","marker","index","el","document","createElement","id","properties","className","innerHTML","alt","Marker","setLngLat","geometry","coordinates","addTo","addEventListener","e","flyToProject","mapPadding","window","innerHeight","currentFeature","flyTo","center","zoom","speed","padding","bottom","setstate","on"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA+B,OAA/B;AACA,OAAOC,QAAP,MAAqB,WAArB;AAEA,OAAO,eAAP;AAEA,OAAOC,oBAAP,MAAiC,wBAAjC;AAEA,OAAOC,QAAP,MAAqB,wBAArB;;;AAKA,MAAMC,OAAO,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAW;AAAA;;AACvB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,KAAD,CAAhC,CADuB,CAGvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAMQ,UAAU,GAAG,MAAM;AACrBD,IAAAA,OAAO,CAAC,CAACD,IAAF,CAAP;AACH,GAFD;;AAMA,WAASG,UAAT,GAAsB;AAClBN,IAAAA,QAAQ,CAACO,QAAT,CAAkBC,OAAlB,CAA0B,UAASC,MAAT,EAAiBC,KAAjB,EAAwB;AAE9C,YAAMC,EAAE,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAX;AACAF,MAAAA,EAAE,CAACG,EAAH,GAAQ,YAAYL,MAAM,CAACM,UAAP,CAAkBD,EAAtC;AACAH,MAAAA,EAAE,CAACK,SAAH,GAAe,WAAWN,KAA1B;AACAC,MAAAA,EAAE,CAACM,SAAH,GAAgB,gCAAD,GAAmCR,MAAM,CAACM,UAAP,CAAkBG,GAArD,GAA4D,oBAA3E;AAEA,UAAIpB,QAAQ,CAACqB,MAAb,CAAoBR,EAApB,EACCS,SADD,CACWX,MAAM,CAACY,QAAP,CAAgBC,WAD3B,EAECC,KAFD,CAEOrB,GAFP;AAIAS,MAAAA,EAAE,CAACa,gBAAH,CAAoB,OAApB,EAA6B,UAASC,CAAT,EAAW;AACxCC,QAAAA,YAAY,CAACjB,MAAD,CAAZ;AACAL,QAAAA,OAAO,CAAC,IAAD,CAAP;AAEC,OAJD;AAKH,KAhBD;AAiBC;;AAED,QAAMuB,UAAU,GAAGC,MAAM,CAACC,WAAP,GAAqB,IAAxC,CAtCmB,CAyCvB;AACA;;AACA,WAASH,YAAT,CAAsBI,cAAtB,EAAsC;AAClC5B,IAAAA,GAAG,CAAC6B,KAAJ,CAAU;AACNC,MAAAA,MAAM,EAAE,CAACF,cAAc,CAACT,QAAf,CAAwBC,WAAxB,CAAoC,CAApC,CAAD,EAAyCQ,cAAc,CAACT,QAAf,CAAwBC,WAAxB,CAAoC,CAApC,CAAzC,CADF;AAENW,MAAAA,IAAI,EAAE,EAFA;AAGNC,MAAAA,KAAK,EAAE,CAHD;AAINC,MAAAA,OAAO,EAAE;AAAEC,QAAAA,MAAM,EAAET;AAAV,OAJH,CAI0B;;AAJ1B,KAAV;AAOAU,IAAAA,QAAQ,CAACP,cAAc,CAACf,UAAhB,CAAR,CARkC,CAWlC;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEH;;AAGG,MAAGb,GAAH,EAAO;AACHA,IAAAA,GAAG,CAACoC,EAAJ,CAAO,MAAP,EAAe,MAAM;AACjBhC,MAAAA,UAAU;AACb,KAFD;AAGH;;AAGD,MAAIH,IAAI,KAAK,KAAb,EAAoB,OAAO,IAAP,CAApB,KACK,oBAAO,QAAC,oBAAD;AAAA;AAAA;AAAA;AAAA,UAAP;AAEZ,CA9ED;;GAAMF,O;;KAAAA,O;AAgFN,eAAeA,OAAf","sourcesContent":["import React,{ useState } from 'react'\nimport mapboxgl from 'mapbox-gl'\n\nimport './Markers.css'\n\nimport ProjectInfoComponent from './ProjectInfoComponent'\n\nimport projects from '../data/landlines.json'\n\n\n\n\nconst Markers = ({map}) => {\n    const [open, setOpen] = useState(false)\n\n    // const [state, setstate] = useState({\n    //     title: '', \n    //     artist: '', \n    //     description: '', \n    //     images: '', \n    //     id: '', \n    //     alt: ''\n    // })\n\n    const handleOpen = () => {\n        setOpen(!open)\n    }\n\n\n\n    function addMarkers() {\n        projects.features.forEach(function(marker, index) {\n\n            const el = document.createElement('div');\n            el.id = \"marker-\" + marker.properties.id;\n            el.className = 'marker' + index;    \n            el.innerHTML = `<div class=\"marker\"><h4><span>` + marker.properties.alt + `</span></h4></div>` ;\n\n            new mapboxgl.Marker(el)\n            .setLngLat(marker.geometry.coordinates)\n            .addTo(map);\n\n            el.addEventListener('click', function(e){\n            flyToProject(marker)\n            setOpen(true)\n\n            })\n        });\n        }\n\n        const mapPadding = window.innerHeight * 0.38 \n        \n\n    // Use Mapbox GL JS's `flyTo` to move the camera smoothly\n    // a given center point.\n    function flyToProject(currentFeature) {\n        map.flyTo({\n            center: [currentFeature.geometry.coordinates[0], currentFeature.geometry.coordinates[1]],\n            zoom: 12,\n            speed: 1,\n            padding: { bottom: mapPadding}, //Push center to the left 500px,\n        });\n        \n        setstate(currentFeature.properties)\n\n\n        // Open Sidebar\n        // const sidebar = document.querySelector('#sidebar')\n        // sidebar.classList.add(\"open\");\n\n        // const header = document.querySelector('.header')\n        // header.classList.add(\"slide\");\n        // header.classList.add(\"visible\")\n\n        // const headerStart = document.querySelector('.header-start')\n        // headerStart.classList.add(\"hidden\");\n\n    }\n\n\n        if(map){\n            map.on('load', () => {\n                addMarkers()\n            });\n        }\n\n\n        if (open === false) return null\n        else return <ProjectInfoComponent/>\n\n}\n\nexport default Markers\n\n\n\n"]},"metadata":{},"sourceType":"module"}
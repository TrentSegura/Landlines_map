{"ast":null,"code":"import _slicedToArray from\"/Users/trent/Sites/landlines_map/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import mapboxgl from'mapbox-gl';import'./Markers.css';import Sidebar from'./Sidebar';import projects from'../data/landlines.json';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MarkersDesktop=function MarkersDesktop(_ref){var map=_ref.map,handleHeader=_ref.handleHeader;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState({title:'',artist:'',description:'',images:'',id:'',alt:''}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];function addMarkers(){projects.features.forEach(function(marker,index){var el=document.createElement('div');el.id=\"marker-\"+marker.properties.id;el.className='markers-ll';el.innerHTML=\"<div class=\\\"marker\\\"><h4><span>\"+marker.properties.alt+\"</span></h4></div>\";new mapboxgl.Marker(el).setLngLat(marker.geometry.coordinates).addTo(map);el.addEventListener('click',function(e){flyToProject(marker);handleHeader(true);});});}// Use Mapbox GL JS's `flyTo` to move the camera smoothly\n// a given center point.\nfunction flyToProject(currentFeature){map.flyTo({center:[currentFeature.geometry.coordinates[0],currentFeature.geometry.coordinates[1]],zoom:12,speed:1,padding:{left:500}});setState(currentFeature.properties);setOpen(true);}if(map){map.on('load',function(){addMarkers();});}var onExit=function onExit(){setOpen(false);map.flyTo({center:[-106.1828,37.4792],zoom:8.5,speed:1,padding:{left:0}});};return/*#__PURE__*/_jsx(_Fragment,{children:open===true?/*#__PURE__*/_jsx(Sidebar,{state:state,map:map,projects:projects.features.length,onExit:onExit}):null});};export default MarkersDesktop;","map":{"version":3,"sources":["/Users/trent/Sites/landlines_map/src/components/MarkersDesktop.js"],"names":["React","useState","mapboxgl","Sidebar","projects","MarkersDesktop","map","handleHeader","open","setOpen","title","artist","description","images","id","alt","state","setState","addMarkers","features","forEach","marker","index","el","document","createElement","properties","className","innerHTML","Marker","setLngLat","geometry","coordinates","addTo","addEventListener","e","flyToProject","currentFeature","flyTo","center","zoom","speed","padding","left","on","onExit","length"],"mappings":"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","sourcesContent":["import React,{ useState } from 'react'\nimport mapboxgl from 'mapbox-gl'\n\nimport './Markers.css'\n\nimport Sidebar from './Sidebar'\n\nimport projects from '../data/landlines.json'\n\nconst MarkersDesktop = ({map, handleHeader}) => {\n\n\n    const [open, setOpen] = useState(false)\n\n    const [state, setState] = useState({\n        title: '', \n        artist: '', \n        description: '', \n        images: '', \n        id: '', \n        alt: ''\n    })\n\n\n\n    function addMarkers() {\n        projects.features.forEach(function(marker, index) {\n\n            const el = document.createElement('div');\n            el.id = \"marker-\" + marker.properties.id;\n            el.className = 'markers-ll';    \n            el.innerHTML = `<div class=\"marker\"><h4><span>` + marker.properties.alt + `</span></h4></div>` ;\n\n            new mapboxgl.Marker(el)\n            .setLngLat(marker.geometry.coordinates)\n            .addTo(map);\n\n            el.addEventListener('click', function(e){\n            flyToProject(marker)\n            handleHeader(true)\n\n            })\n        });\n        }\n\n\n    // Use Mapbox GL JS's `flyTo` to move the camera smoothly\n    // a given center point.\n    function flyToProject(currentFeature) {\n        map.flyTo({\n            center: [currentFeature.geometry.coordinates[0], currentFeature.geometry.coordinates[1]],\n            zoom: 12,\n            speed: 1,\n            padding: {left: 500 },\n        });\n        setState(currentFeature.properties)\n        setOpen(true)\n\n    }\n\n        if(map){\n            map.on('load', () => {\n                addMarkers()\n            });\n        }\n\n        const onExit = () => {\n            setOpen(false)\n            map.flyTo({\n                center: [ -106.1828, 37.4792 ],\n                zoom: 8.5,\n                speed: 1,\n                padding: { left: 0 }, \n            });\n            \n        }\n\n\n        return(\n            <>\n            {open === true ? <Sidebar state={state} map={map} projects={projects.features.length} onExit={onExit} /> : null}\n            \n            </>\n        ) \n}\n\nexport default MarkersDesktop\n\n\n\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from\"/Users/trent/Sites/landlines_map/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import mapboxgl from'mapbox-gl';import'./Markers.css';// import ProjectInfoComponent from './ProjectInfoComponent'\n// import Sidebar from './Sidebar'\nimport MobileSheet from'./MobileSheet';import projects from'../data/landlines.json';import{jsx as _jsx}from\"react/jsx-runtime\";var MarkersMobile=function MarkersMobile(_ref){var map=_ref.map;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState({title:'',artist:'',description:'',images:'',id:'',alt:''}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];function addMarkers(){projects.features.forEach(function(marker,index){var el=document.createElement('div');el.id=\"marker-\"+marker.properties.id;el.className='markers-ll';el.innerHTML=\"<div class=\\\"marker\\\"><h4><span>\"+marker.properties.alt+\"</span></h4></div>\";new mapboxgl.Marker(el).setLngLat(marker.geometry.coordinates).addTo(map);el.addEventListener('click',function(e){flyToProject(marker);});});}// Use Mapbox GL JS's `flyTo` to move the camera smoothly\n// a given center point.\nfunction flyToProject(currentFeature){map.flyTo({center:[currentFeature.geometry.coordinates[0],currentFeature.geometry.coordinates[1]],zoom:12,speed:1,padding:{bottom:+window.innerHeight*0.38}});setState(currentFeature.properties);setOpen(true);}if(map){map.on('load',function(){addMarkers();});}var onDismiss=function onDismiss(){setOpen(false);map.flyTo({center:[-106.1828,37.4792],zoom:7.5,speed:1,padding:{bottom:0}});};return/*#__PURE__*/_jsx(MobileSheet,{state:state,map:map,openState:open,setData:setOpen,onDismiss:onDismiss});};export default MarkersMobile;","map":{"version":3,"sources":["/Users/trent/Sites/landlines_map/src/components/MarkersMobile.js"],"names":["React","useState","mapboxgl","MobileSheet","projects","MarkersMobile","map","open","setOpen","title","artist","description","images","id","alt","state","setState","addMarkers","features","forEach","marker","index","el","document","createElement","properties","className","innerHTML","Marker","setLngLat","geometry","coordinates","addTo","addEventListener","e","flyToProject","currentFeature","flyTo","center","zoom","speed","padding","bottom","window","innerHeight","on","onDismiss"],"mappings":"uJAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CAEA,MAAO,eAAP,CAEA;AACA;AACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,C,2CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAAW,IAATC,CAAAA,GAAS,MAATA,GAAS,CAC7B,cAAwBL,QAAQ,CAAC,KAAD,CAAhC,wCAAOM,IAAP,eAAaC,OAAb,eAEA,eAA0BP,QAAQ,CAAC,CAC/BQ,KAAK,CAAE,EADwB,CAE/BC,MAAM,CAAE,EAFuB,CAG/BC,WAAW,CAAE,EAHkB,CAI/BC,MAAM,CAAE,EAJuB,CAK/BC,EAAE,CAAE,EAL2B,CAM/BC,GAAG,CAAE,EAN0B,CAAD,CAAlC,yCAAOC,KAAP,eAAcC,QAAd,eAUA,QAASC,CAAAA,UAAT,EAAsB,CAClBb,QAAQ,CAACc,QAAT,CAAkBC,OAAlB,CAA0B,SAASC,MAAT,CAAiBC,KAAjB,CAAwB,CAE9C,GAAMC,CAAAA,EAAE,CAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAX,CACAF,EAAE,CAACT,EAAH,CAAQ,UAAYO,MAAM,CAACK,UAAP,CAAkBZ,EAAtC,CACAS,EAAE,CAACI,SAAH,CAAe,YAAf,CACAJ,EAAE,CAACK,SAAH,CAAe,mCAAmCP,MAAM,CAACK,UAAP,CAAkBX,GAArD,qBAAf,CAEA,GAAIZ,CAAAA,QAAQ,CAAC0B,MAAb,CAAoBN,EAApB,EACCO,SADD,CACWT,MAAM,CAACU,QAAP,CAAgBC,WAD3B,EAECC,KAFD,CAEO1B,GAFP,EAIAgB,EAAE,CAACW,gBAAH,CAAoB,OAApB,CAA6B,SAASC,CAAT,CAAW,CACxCC,YAAY,CAACf,MAAD,CAAZ,CAEC,CAHD,EAIH,CAfD,EAgBC,CAGL;AACA;AACA,QAASe,CAAAA,YAAT,CAAsBC,cAAtB,CAAsC,CAClC9B,GAAG,CAAC+B,KAAJ,CAAU,CACNC,MAAM,CAAE,CAACF,cAAc,CAACN,QAAf,CAAwBC,WAAxB,CAAoC,CAApC,CAAD,CAAyCK,cAAc,CAACN,QAAf,CAAwBC,WAAxB,CAAoC,CAApC,CAAzC,CADF,CAENQ,IAAI,CAAE,EAFA,CAGNC,KAAK,CAAE,CAHD,CAINC,OAAO,CAAE,CAACC,MAAM,CAAG,CAAEC,MAAM,CAACC,WAAT,CAAuB,IAAjC,CAJH,CAAV,EAMA5B,QAAQ,CAACoB,cAAc,CAACX,UAAhB,CAAR,CACAjB,OAAO,CAAC,IAAD,CAAP,CACH,CAEG,GAAGF,GAAH,CAAO,CACHA,GAAG,CAACuC,EAAJ,CAAO,MAAP,CAAe,UAAM,CACjB5B,UAAU,GACb,CAFD,EAGH,CAED,GAAM6B,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpBtC,OAAO,CAAC,KAAD,CAAP,CACAF,GAAG,CAAC+B,KAAJ,CAAU,CACNC,MAAM,CAAE,CAAE,CAAC,QAAH,CAAa,OAAb,CADF,CAENC,IAAI,CAAE,GAFA,CAGNC,KAAK,CAAE,CAHD,CAINC,OAAO,CAAE,CAAEC,MAAM,CAAE,CAAV,CAJH,CAAV,EAOH,CATD,CAWA,mBAAO,KAAC,WAAD,EAAa,KAAK,CAAE3B,KAApB,CAA2B,GAAG,CAAET,GAAhC,CAAqC,SAAS,CAAEC,IAAhD,CAAsD,OAAO,CAAEC,OAA/D,CAAwE,SAAS,CAAEsC,SAAnF,EAAP,CACP,CAhED,CAkEA,cAAezC,CAAAA,aAAf","sourcesContent":["import React,{ useState } from 'react'\nimport mapboxgl from 'mapbox-gl'\n\nimport './Markers.css'\n\n// import ProjectInfoComponent from './ProjectInfoComponent'\n// import Sidebar from './Sidebar'\nimport MobileSheet from './MobileSheet'\nimport projects from '../data/landlines.json'\n\nconst MarkersMobile = ({map}) => {\n    const [open, setOpen] = useState(false)\n\n    const [state, setState] = useState({\n        title: '', \n        artist: '', \n        description: '', \n        images: '', \n        id: '', \n        alt: ''\n    })\n\n\n    function addMarkers() {\n        projects.features.forEach(function(marker, index) {\n\n            const el = document.createElement('div');\n            el.id = \"marker-\" + marker.properties.id;\n            el.className = 'markers-ll';    \n            el.innerHTML = `<div class=\"marker\"><h4><span>` + marker.properties.alt + `</span></h4></div>` ;\n\n            new mapboxgl.Marker(el)\n            .setLngLat(marker.geometry.coordinates)\n            .addTo(map);\n\n            el.addEventListener('click', function(e){\n            flyToProject(marker)\n\n            })\n        });\n        }\n\n\n    // Use Mapbox GL JS's `flyTo` to move the camera smoothly\n    // a given center point.\n    function flyToProject(currentFeature) {\n        map.flyTo({\n            center: [currentFeature.geometry.coordinates[0], currentFeature.geometry.coordinates[1]],\n            zoom: 12,\n            speed: 1,\n            padding: {bottom:  + window.innerHeight * 0.38 },\n        });\n        setState(currentFeature.properties)\n        setOpen(true)\n    }\n\n        if(map){\n            map.on('load', () => {\n                addMarkers()\n            });\n        }\n\n        const onDismiss = () => {\n            setOpen(false)\n            map.flyTo({\n                center: [ -106.1828, 37.4792 ],\n                zoom: 7.5,\n                speed: 1,\n                padding: { bottom: 0 }, \n            });\n            \n        }\n\n        return <MobileSheet state={state} map={map} openState={open} setData={setOpen} onDismiss={onDismiss}/>\n}\n\nexport default MarkersMobile\n\n\n\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import React from\"react\";import PinsData from\"../data/map.json\";import mapboxgl from\"mapbox-gl\";import\"./Pins.css\";import{jsx as _jsx}from\"react/jsx-runtime\";var Pins=function Pins(_ref){var map=_ref.map;if(map){PinsData.features.forEach(function(pin){var coord=[pin.geometry.coordinates[0],pin.geometry.coordinates[1]];var popup=new mapboxgl.Popup();var imgSrc=\"assets/pins/\"+pin.properties.images;popup.setHTML(pin.properties.images?\"\\n                <div class=\\\"pins\\\">\\n               \\n                <div class=\\\"pb-container\\\">\\n                <img src=\\\"\".concat(imgSrc,\"\\\">\\n                </div>\\n                              \\n                <h3>\").concat(pin.properties.name,\"</h3>\\n                </div>\\n                \\n                \"):\"\\n\\n                <div class=\\\"pins\\\">\\n                <h3>\".concat(pin.properties.name,\"</h3>\\n                </div>\\n                \\n                \"));var el=document.createElement(\"div\");el.id=\"pin-marker\";map.on(\"mouseenter\",\"PinsData\",function(e){// Change the cursor style as a UI indicator.\nmap.getCanvas().style.cursor=\"pointer\";var coordinates=e.features[0].geometry.coordinates.slice();var description=e.features[0].properties.description;// Ensure that if the map is zoomed out such that multiple\n// copies of the feature are visible, the popup appears\n// over the copy being pointed to.\nwhile(Math.abs(e.lngLat.lng-coordinates[0])>180){coordinates[0]+=e.lngLat.lng>coordinates[0]?360:-360;}// Populate the popup and set its coordinates\n// based on the feature found.\npopup.setLngLat(coordinates).setHTML(description).addTo(map);});map.on(\"mouseleave\",\"places\",function(){map.getCanvas().style.cursor=\"\";popup.remove();});var marker=new mapboxgl.Marker(el);marker.setPopup(popup);marker.setLngLat(coord);marker.addTo(map);});}return/*#__PURE__*/_jsx(\"div\",{});};export default Pins;","map":{"version":3,"sources":["/Users/trent/Sites/landlines_map_test/src/components/Pins.js"],"names":["React","PinsData","mapboxgl","Pins","map","features","forEach","pin","coord","geometry","coordinates","popup","Popup","imgSrc","properties","images","setHTML","name","el","document","createElement","id","on","e","getCanvas","style","cursor","slice","description","Math","abs","lngLat","lng","setLngLat","addTo","remove","marker","Marker","setPopup"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,kBAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,MAAO,YAAP,C,2CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAAa,IAAVC,CAAAA,GAAU,MAAVA,GAAU,CACxB,GAAIA,GAAJ,CAAS,CACPH,QAAQ,CAACI,QAAT,CAAkBC,OAAlB,CAA0B,SAACC,GAAD,CAAS,CACjC,GAAMC,CAAAA,KAAK,CAAG,CAACD,GAAG,CAACE,QAAJ,CAAaC,WAAb,CAAyB,CAAzB,CAAD,CAA8BH,GAAG,CAACE,QAAJ,CAAaC,WAAb,CAAyB,CAAzB,CAA9B,CAAd,CACA,GAAMC,CAAAA,KAAK,CAAG,GAAIT,CAAAA,QAAQ,CAACU,KAAb,EAAd,CAEA,GAAMC,CAAAA,MAAM,CAAG,eAAiBN,GAAG,CAACO,UAAJ,CAAeC,MAA/C,CAEAJ,KAAK,CAACK,OAAN,CACET,GAAG,CAACO,UAAJ,CAAeC,MAAf,6IAKoBF,MALpB,6FAQcN,GAAG,CAACO,UAAJ,CAAeG,IAR7B,8IAecV,GAAG,CAACO,UAAJ,CAAeG,IAf7B,qEADF,EAsBA,GAAIC,CAAAA,EAAE,CAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAT,CACAF,EAAE,CAACG,EAAH,CAAQ,YAAR,CAEAjB,GAAG,CAACkB,EAAJ,CAAO,YAAP,CAAqB,UAArB,CAAiC,SAAUC,CAAV,CAAa,CAC5C;AACAnB,GAAG,CAACoB,SAAJ,GAAgBC,KAAhB,CAAsBC,MAAtB,CAA+B,SAA/B,CAEA,GAAIhB,CAAAA,WAAW,CAAGa,CAAC,CAAClB,QAAF,CAAW,CAAX,EAAcI,QAAd,CAAuBC,WAAvB,CAAmCiB,KAAnC,EAAlB,CACA,GAAIC,CAAAA,WAAW,CAAGL,CAAC,CAAClB,QAAF,CAAW,CAAX,EAAcS,UAAd,CAAyBc,WAA3C,CAEA;AACA;AACA;AACA,MAAOC,IAAI,CAACC,GAAL,CAASP,CAAC,CAACQ,MAAF,CAASC,GAAT,CAAetB,WAAW,CAAC,CAAD,CAAnC,EAA0C,GAAjD,CAAsD,CACpDA,WAAW,CAAC,CAAD,CAAX,EAAkBa,CAAC,CAACQ,MAAF,CAASC,GAAT,CAAetB,WAAW,CAAC,CAAD,CAA1B,CAAgC,GAAhC,CAAsC,CAAC,GAAzD,CACD,CAED;AACA;AACAC,KAAK,CAACsB,SAAN,CAAgBvB,WAAhB,EAA6BM,OAA7B,CAAqCY,WAArC,EAAkDM,KAAlD,CAAwD9B,GAAxD,EACD,CAjBD,EAmBAA,GAAG,CAACkB,EAAJ,CAAO,YAAP,CAAqB,QAArB,CAA+B,UAAY,CACzClB,GAAG,CAACoB,SAAJ,GAAgBC,KAAhB,CAAsBC,MAAtB,CAA+B,EAA/B,CACAf,KAAK,CAACwB,MAAN,GACD,CAHD,EAKA,GAAMC,CAAAA,MAAM,CAAG,GAAIlC,CAAAA,QAAQ,CAACmC,MAAb,CAAoBnB,EAApB,CAAf,CACAkB,MAAM,CAACE,QAAP,CAAgB3B,KAAhB,EACAyB,MAAM,CAACH,SAAP,CAAiBzB,KAAjB,EACA4B,MAAM,CAACF,KAAP,CAAa9B,GAAb,EACD,CA3DD,EA4DD,CAED,mBAAO,cAAP,CACD,CAjED,CAmEA,cAAeD,CAAAA,IAAf","sourcesContent":["import React from \"react\";\nimport PinsData from \"../data/map.json\";\nimport mapboxgl from \"mapbox-gl\";\nimport \"./Pins.css\";\n\nconst Pins = ({ map }) => {\n  if (map) {\n    PinsData.features.forEach((pin) => {\n      const coord = [pin.geometry.coordinates[0], pin.geometry.coordinates[1]];\n      const popup = new mapboxgl.Popup();\n\n      const imgSrc = \"assets/pins/\" + pin.properties.images;\n\n      popup.setHTML(\n        pin.properties.images\n          ? `\n                <div class=\"pins\">\n               \n                <div class=\"pb-container\">\n                <img src=\"${imgSrc}\">\n                </div>\n                              \n                <h3>${pin.properties.name}</h3>\n                </div>\n                \n                `\n          : `\n\n                <div class=\"pins\">\n                <h3>${pin.properties.name}</h3>\n                </div>\n                \n                `\n      );\n\n      var el = document.createElement(\"div\");\n      el.id = \"pin-marker\";\n\n      map.on(\"mouseenter\", \"PinsData\", function (e) {\n        // Change the cursor style as a UI indicator.\n        map.getCanvas().style.cursor = \"pointer\";\n\n        var coordinates = e.features[0].geometry.coordinates.slice();\n        var description = e.features[0].properties.description;\n\n        // Ensure that if the map is zoomed out such that multiple\n        // copies of the feature are visible, the popup appears\n        // over the copy being pointed to.\n        while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\n          coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;\n        }\n\n        // Populate the popup and set its coordinates\n        // based on the feature found.\n        popup.setLngLat(coordinates).setHTML(description).addTo(map);\n      });\n\n      map.on(\"mouseleave\", \"places\", function () {\n        map.getCanvas().style.cursor = \"\";\n        popup.remove();\n      });\n\n      const marker = new mapboxgl.Marker(el);\n      marker.setPopup(popup);\n      marker.setLngLat(coord);\n      marker.addTo(map);\n    });\n  }\n\n  return <div></div>;\n};\n\nexport default Pins;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from\"/Users/trent/Sites/landlines_map/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useEffect,useState}from\"react\";// import mapboxgl from \"mapbox-gl\";\nimport mapboxgl from\"!mapbox-gl\";// eslint-disable-line import/no-webpack-loader-syntax\nimport Header from\"./Header\";import HeaderJR from\"./HeaderJR\";import MarkersDesktop from\"./MarkersDesktop\";import LandMarks from\"./LandMarks\";import landLines from\"../data/LandlinesWhite\";import landLinesThin from\"../data/LandlinesThin\";import{ImInfo}from\"react-icons/im\";import Unsilenced from\"./Unsilenced\";import{BrowserRouter as Router,Route}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";if(!(\"remove\"in Element.prototype)){Element.prototype.remove=function(){if(this.parentNode){this.parentNode.removeChild(this);}};}// @ts-ignore\n// eslint-disable-next-line import/no-webpack-loader-syntax\n// mapboxgl.workerClass =\n//   require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\nmapboxgl.accessToken=\"pk.eyJ1IjoibTEyLXRyZW50IiwiYSI6ImNrNDNuejljbjA0NzMzZW15eGk4OWMwdTEifQ.8rs6af8i7F8oeHDpbD_zQw\";var Map=function Map(){var mapContainerRef=useRef(null);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),map=_useState2[0],setMap=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),hideHeader=_useState4[0],setHideHeader=_useState4[1];var bounds=[[-110.113384,35.747004],// Southwest coordinates\n[-102.113384,39.747004]// Northeast coordinates\n];//   Determins which zoom level depending on screen size\nvar windowWidth=window.innerWidth;var zoomLVL=windowWidth<329?7.2:8.5;useEffect(function(){var map=new mapboxgl.Map({container:mapContainerRef.current,style:\"mapbox://styles/m12-trent/cknho9aum0mdz17p8qde7vrfo\",center:[-106.1828,37.4792],zoom:zoomLVL,minZoom:1,maxZoom:13,attributionControl:false,maxBounds:bounds,maxPitch:0});// Load the Lines in Landlines\nmap.on(\"load\",function(){// Thick White Lines (Aka the Landlines)\nmap.addSource(\"landlines\",{type:\"geojson\",data:{type:\"Feature\",properties:{},geometry:{type:\"LineString\",coordinates:landLines}}});map.addLayer({id:\"lines\",type:\"line\",source:\"landlines\",layout:{\"line-join\":\"round\",\"line-cap\":\"round\"},paint:{\"line-color\":\"#fff\",\"line-opacity\":0.7,\"line-width\":1.25}});// Thin white lines\nmap.addSource(\"landlines-thin\",{type:\"geojson\",data:{type:\"Feature\",properties:{},geometry:{type:\"LineString\",coordinates:landLinesThin}}});map.addLayer({id:\"lines-thin\",type:\"line\",source:\"landlines-thin\",layout:{\"line-join\":\"round\",\"line-cap\":\"round\"},paint:{\"line-color\":\"#f9dec2\",\"line-opacity\":0.2,\"line-width\":1}});});setMap(map);// clean up on unmount\nreturn function(){return map.remove();};},[]);// eslint-disable-line react-hooks/exhaustive-deps\nfunction handleClick(){var aboutSection=document.getElementById(\"about-section\");aboutSection.scrollIntoView({behavior:\"smooth\"});}var handleHeader=function handleHeader(e){setHideHeader(true);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"map-container\",ref:mapContainerRef,children:[hideHeader===false?/*#__PURE__*/_jsx(Header,{}):/*#__PURE__*/_jsx(HeaderJR,{}),/*#__PURE__*/_jsx(MarkersDesktop,{map:map,handleHeader:handleHeader,className:\"markers\"}),/*#__PURE__*/_jsx(LandMarks,{map:map,className:\"landmarks\"}),/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(Route,{path:\"/unsilenced\",children:/*#__PURE__*/_jsx(Unsilenced,{map:map})})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"cta-scroll-down\",onClick:function onClick(){return handleClick();},children:/*#__PURE__*/_jsx(ImInfo,{})})]});};export default Map;","map":{"version":3,"sources":["/Users/trent/Sites/landlines_map/src/components/Map.js"],"names":["React","useRef","useEffect","useState","mapboxgl","Header","HeaderJR","MarkersDesktop","LandMarks","landLines","landLinesThin","ImInfo","Unsilenced","BrowserRouter","Router","Route","Element","prototype","remove","parentNode","removeChild","accessToken","Map","mapContainerRef","map","setMap","hideHeader","setHideHeader","bounds","windowWidth","window","innerWidth","zoomLVL","container","current","style","center","zoom","minZoom","maxZoom","attributionControl","maxBounds","maxPitch","on","addSource","type","data","properties","geometry","coordinates","addLayer","id","source","layout","paint","handleClick","aboutSection","document","getElementById","scrollIntoView","behavior","handleHeader","e"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\n// import mapboxgl from \"mapbox-gl\";\nimport mapboxgl from \"!mapbox-gl\"; // eslint-disable-line import/no-webpack-loader-syntax\nimport Header from \"./Header\";\nimport HeaderJR from \"./HeaderJR\";\nimport MarkersDesktop from \"./MarkersDesktop\";\nimport LandMarks from \"./LandMarks\";\n\nimport landLines from \"../data/LandlinesWhite\";\nimport landLinesThin from \"../data/LandlinesThin\";\nimport { ImInfo } from \"react-icons/im\";\nimport Unsilenced from \"./Unsilenced\";\n\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nif (!(\"remove\" in Element.prototype)) {\n  Element.prototype.remove = function () {\n    if (this.parentNode) {\n      this.parentNode.removeChild(this);\n    }\n  };\n}\n\n// @ts-ignore\n// eslint-disable-next-line import/no-webpack-loader-syntax\n// mapboxgl.workerClass =\n//   require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\n\nmapboxgl.accessToken =\n  \"pk.eyJ1IjoibTEyLXRyZW50IiwiYSI6ImNrNDNuejljbjA0NzMzZW15eGk4OWMwdTEifQ.8rs6af8i7F8oeHDpbD_zQw\";\n\nconst Map = () => {\n  const mapContainerRef = useRef(null);\n  const [map, setMap] = useState(null);\n\n  const [hideHeader, setHideHeader] = useState(false);\n\n  var bounds = [\n    [-110.113384, 35.747004], // Southwest coordinates\n    [-102.113384, 39.747004], // Northeast coordinates\n  ];\n\n  //   Determins which zoom level depending on screen size\n  const windowWidth = window.innerWidth;\n  const zoomLVL = windowWidth < 329 ? 7.2 : 8.5;\n\n  useEffect(() => {\n    const map = new mapboxgl.Map({\n      container: mapContainerRef.current,\n      style: \"mapbox://styles/m12-trent/cknho9aum0mdz17p8qde7vrfo\",\n      center: [-106.1828, 37.4792],\n      zoom: zoomLVL,\n      minZoom: 1,\n      maxZoom: 13,\n      attributionControl: false,\n      maxBounds: bounds,\n      maxPitch: 0,\n    });\n\n    // Load the Lines in Landlines\n    map.on(\"load\", () => {\n      // Thick White Lines (Aka the Landlines)\n      map.addSource(\"landlines\", {\n        type: \"geojson\",\n        data: {\n          type: \"Feature\",\n          properties: {},\n          geometry: {\n            type: \"LineString\",\n            coordinates: landLines,\n          },\n        },\n      });\n      map.addLayer({\n        id: \"lines\",\n        type: \"line\",\n        source: \"landlines\",\n        layout: {\n          \"line-join\": \"round\",\n          \"line-cap\": \"round\",\n        },\n        paint: {\n          \"line-color\": \"#fff\",\n          \"line-opacity\": 0.7,\n          \"line-width\": 1.25,\n        },\n      });\n\n      // Thin white lines\n      map.addSource(\"landlines-thin\", {\n        type: \"geojson\",\n        data: {\n          type: \"Feature\",\n          properties: {},\n          geometry: {\n            type: \"LineString\",\n            coordinates: landLinesThin,\n          },\n        },\n      });\n      map.addLayer({\n        id: \"lines-thin\",\n        type: \"line\",\n        source: \"landlines-thin\",\n        layout: {\n          \"line-join\": \"round\",\n          \"line-cap\": \"round\",\n        },\n        paint: {\n          \"line-color\": \"#f9dec2\",\n          \"line-opacity\": 0.2,\n          \"line-width\": 1,\n        },\n      });\n    });\n\n    setMap(map);\n\n    // clean up on unmount\n    return () => map.remove();\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  function handleClick() {\n    const aboutSection = document.getElementById(\"about-section\");\n    aboutSection.scrollIntoView({\n      behavior: \"smooth\",\n    });\n  }\n\n  const handleHeader = (e) => {\n    setHideHeader(true);\n  };\n\n  return (\n    <div>\n      <div className=\"map-container\" ref={mapContainerRef}>\n        {hideHeader === false ? <Header /> : <HeaderJR />}\n\n        <MarkersDesktop\n          map={map}\n          handleHeader={handleHeader}\n          className=\"markers\"\n        />\n\n        <LandMarks map={map} className=\"landmarks\" />\n\n        <Router>\n          <Route path=\"/unsilenced\">\n            <Unsilenced map={map} />\n          </Route>\n        </Router>\n      </div>\n      <button className=\"cta-scroll-down\" onClick={() => handleClick()}>\n        <ImInfo />\n      </button>\n    </div>\n  );\n};\n\nexport default Map;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/trent/Sites/2021/landlines_map/src/components/Markers.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport './Markers.css'; // import ProjectInfoComponent from './ProjectInfoComponent'\n// import Sidebar from './Sidebar'\n\nimport MobileSheet from './MobileSheet';\nimport projects from '../data/landlines.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Markers = ({\n  map\n}) => {\n  _s();\n\n  const [open, setOpen] = useState(false);\n  const [state, setstate] = useState({\n    title: '',\n    artist: '',\n    description: '',\n    images: '',\n    id: '',\n    alt: ''\n  });\n\n  function addMarkers() {\n    projects.features.forEach(function (marker, index) {\n      const el = document.createElement('div');\n      el.id = \"marker-\" + marker.properties.id;\n      el.className = 'marker' + index;\n      el.innerHTML = `<div class=\"marker\"><h4><span>` + marker.properties.alt + `</span></h4></div>`;\n      new mapboxgl.Marker(el).setLngLat(marker.geometry.coordinates).addTo(map);\n      el.addEventListener('click', function (e) {\n        flyToProject(marker);\n      });\n    });\n  }\n\n  const windowHeight = window.innerHeight;\n  const mapPaddingMobile = `bottom:` + windowHeight * 0.38;\n  const mapPaddingDesktop = 'left: 500 ';\n  const mapPad = windowHeight > 450 ? {\n    mapPaddingDesktop\n  } : {\n    mapPaddingMobile\n  }; // Use Mapbox GL JS's `flyTo` to move the camera smoothly\n  // a given center point.\n\n  function flyToProject(currentFeature) {\n    setOpen(true);\n    map.flyTo({\n      center: [currentFeature.geometry.coordinates[0], currentFeature.geometry.coordinates[1]],\n      zoom: 12,\n      speed: 1,\n      padding: mapPad\n    });\n    setstate(currentFeature.properties);\n  }\n\n  if (map) {\n    map.on('load', () => {\n      addMarkers();\n    });\n  }\n\n  const onDismiss = () => {\n    setOpen(false);\n    map.flyTo({\n      center: [-106.1828, 37.4792],\n      zoom: 7.5,\n      speed: 1,\n      padding: {\n        bottom: 0\n      }\n    });\n  };\n\n  if (window.innerWidth > 450) return null;else return /*#__PURE__*/_jsxDEV(MobileSheet, {\n    state: state,\n    map: map,\n    openState: open,\n    setData: setOpen,\n    onDismiss: onDismiss\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 21\n  }, this);\n};\n\n_s(Markers, \"4xbae9UGgp7j0n/F9x4RhUP/cYM=\");\n\n_c = Markers;\nexport default Markers;\n\nvar _c;\n\n$RefreshReg$(_c, \"Markers\");","map":{"version":3,"sources":["/Users/trent/Sites/2021/landlines_map/src/components/Markers.js"],"names":["React","useState","mapboxgl","MobileSheet","projects","Markers","map","open","setOpen","state","setstate","title","artist","description","images","id","alt","addMarkers","features","forEach","marker","index","el","document","createElement","properties","className","innerHTML","Marker","setLngLat","geometry","coordinates","addTo","addEventListener","e","flyToProject","windowHeight","window","innerHeight","mapPaddingMobile","mapPaddingDesktop","mapPad","currentFeature","flyTo","center","zoom","speed","padding","on","onDismiss","bottom","innerWidth"],"mappings":"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","sourcesContent":["import React,{ useState } from 'react'\nimport mapboxgl from 'mapbox-gl'\n\nimport './Markers.css'\n\n// import ProjectInfoComponent from './ProjectInfoComponent'\n// import Sidebar from './Sidebar'\nimport MobileSheet from './MobileSheet'\nimport projects from '../data/landlines.json'\n\nconst Markers = ({map}) => {\n    const [open, setOpen] = useState(false)\n\n    const [state, setstate] = useState({\n        title: '', \n        artist: '', \n        description: '', \n        images: '', \n        id: '', \n        alt: ''\n    })\n\n\n    function addMarkers() {\n        projects.features.forEach(function(marker, index) {\n\n            const el = document.createElement('div');\n            el.id = \"marker-\" + marker.properties.id;\n            el.className = 'marker' + index;    \n            el.innerHTML = `<div class=\"marker\"><h4><span>` + marker.properties.alt + `</span></h4></div>` ;\n\n            new mapboxgl.Marker(el)\n            .setLngLat(marker.geometry.coordinates)\n            .addTo(map);\n\n            el.addEventListener('click', function(e){\n            flyToProject(marker)\n\n            })\n        });\n        }\n\n        const windowHeight = window.innerHeight\n    \n        const mapPaddingMobile = `bottom:` + windowHeight * 0.38\n\n        const mapPaddingDesktop = 'left: 500 '\n        \n        const mapPad = windowHeight > 450 ? {mapPaddingDesktop} : {mapPaddingMobile}\n\n\n    // Use Mapbox GL JS's `flyTo` to move the camera smoothly\n    // a given center point.\n    function flyToProject(currentFeature) {\n        setOpen(true)\n\n        map.flyTo({\n            center: [currentFeature.geometry.coordinates[0], currentFeature.geometry.coordinates[1]],\n            zoom: 12,\n            speed: 1,\n            padding: mapPad ,\n        });\n        \n        setstate(currentFeature.properties)\n    }\n\n\n        if(map){\n            map.on('load', () => {\n                addMarkers()\n            });\n        }\n\n        const onDismiss = () => {\n            setOpen(false)\n            map.flyTo({\n                center: [ -106.1828, 37.4792 ],\n                zoom: 7.5,\n                speed: 1,\n                padding: { bottom: 0 }, \n            });\n            \n        }\n\n        if(window.innerWidth > 450 ) return null\n        else return <MobileSheet state={state} map={map} openState={open} setData={setOpen} onDismiss={onDismiss}/>\n}\n\nexport default Markers\n\n\n\n"]},"metadata":{},"sourceType":"module"}